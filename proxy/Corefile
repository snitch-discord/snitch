.:53 {
    # Equivalent to dnsmasq's: address=/snitch-sqld-proxy/219.219.219.125
    # This matches ANY query ending in .snitch-sqld-proxy
    template IN A snitch-sqld-proxy {
        match ".*\.snitch-sqld-proxy\.?$"
        answer "{{ .Name }} 60 IN A 219.219.219.125"
        fallthrough
    }
    
    # Forward all other queries to upstream DNS
    forward . 1.1.1.1 1.0.0.1
    
    # Enable logging for debugging
    log
    
    # Health check endpoint
    health :8080
    
    # Error logging
    errors
}